\documentclass[a4paper, 12pt]{article}
\usepackage[italian]{babel}
\usepackage[table]{xcolor}
\usepackage{xstring, xltabular, multirow, ifthen, hyphenat, svg, tcolorbox, enumitem, adjustbox}
\usepackage[
colorlinks = true,
linkcolor=black,
urlcolor=black,
citecolor=black
]{hyperref}

\hypersetup{linkcolor=black}

% Titolo del documento e informazioni sul lavoro
\title{
	\Large EasyLibrary\\
	\vspace{1mm}
	\Huge Progettazione di Dettaglio del Software
}
% Metodo per centrare correttamente con wrapping i nomi.
\author{
	\textbf{Gruppo 18}\\
	Francesco Cangianiello\\
	Andrea Ciliberti\\
	Serena Giannitti\\
	Marco Giraulo
}

\newcommand{\umlbox}[1]{
	\begin{figure}[ht]
		\begin{adjustbox}{center, margin=0cm 0cm 0cm 0cm}
			#1
		\end{adjustbox}
	\end{figure}
}

\begin{document}
	
\maketitle

\newpage
\tableofcontents

\raggedright

\newpage

\section{Introduzione}
\subsection{Scopo del documento}
Lo scopo di questo di questo documento è di descrivere la progettazione del livello di dettaglio
del il sistema software EasyLibrary. Il documento rappresenta la mappa per
l'implementazione del sistema utilizzata dagli sviluppatori durante il processo di implementazione.
Nel documento sono presenti descrizioni per i principali componenti del sistema EasyLibrary
e esposizioni delle scelte di progettazione che hanno portato alla loro formalizzazione.
I diagrammi di sequenza sono utilizzati per dimostrare il funzionamento dinamico del sistema e per
descriverne con precisione i meccanismi di implementazione agli sviluppatori.

\subsection{Processo di Progettazione}
Completata la fase di analisi, è stato innanzitutto disegnato un diagramma UML generale delle classi
con cui astrarre le caratteristiche del sistema per requisiti. Successivamente, al fine di migliorare
la struttura del sistema secondo gli attributi di qualità studiati, sono state compiute scelte di design
che facendo riferimento alle capacità delle tecnologie di sviluppo (linguaggio Java).
Sfruttando appieno la flessibilità dell'incapsulamento, dell'ereditarietà e dei tipi generici,
si è arrivati ad una struttura del sistema maggiormente stabile e più facilmente manutenibile e testabile.
A tal punto si è potuto passare all finalizzazione dei contratti delle diverse classi e dei loro metodi associati. Infine, i casi d'uso del sistema sono stati passati in rassegna e per ognuno è stato
individuato un flusso di sequenza delle operazioni, da cui sono stati dedotti i diagrammi di
sequenza e di attività. Durante il processo di disegno di questi diagrammi sono stati riconosciuti
e risolti alcuni problemi di design, cosa che ha portato a migliorare in modo iterativo la
progettazione del sistema.


\newpage
\section{Progettazione di Dettaglio delle Classi}
Il sistema software è stato scomposto in 2 pacchetti funzionali:
\begin{itemize}
	\item Un pacchetto responsabile della gestione delle strutture dati che compongono l'archivio della biblioteca.
	\item Un pacchetto responsabile della rappresentazione dei dati elementari dell'archivio della biblioteca.
\end{itemize}

\subsection{Gestori di Archivio}
\umlbox{
	\includesvg[width=1.2\textwidth, inkscapelatex=false]{../uml/classesGestori.svg}
}
\newpage
\subsection{Scelte progettuali} 
Si è scelto di introdurre varie interfacce per sfruttare i meccanismi di incapsulamento offerti da Java.
In particolare, è stato applicato il principio DRY (Don’t Repeat Yourself), secondo il quale ogni funzionalità comune deve essere implementata una sola volta. Per questo motivo è stata realizzata un’astrazione della classe Gestore e dell'Archivio, così che i tre gestori specifici possano ereditarne la struttura base e personalizzarla con i propri dati e comportamenti. 
L'obiettivo è di centralizzare le funzionalità comuni, aumentare la coesione riducendo le dipendenze superflue e ridurre l'accoppiamento, limitando le dipendenze reciproche

Gli attributi delle classi sono privati e accessibili solo tramite metodi, riducendo casi di errori dove metodi accedono a dati che non dovrebbero (?)

\newpage
\subsection{Rappresentazione Dati}
\umlbox{
	\includesvg[width=1.2\textwidth, inkscapelatex=false]{../uml/classesDati.svg}
}

\newpage
\subsection{Scelte progettuali}
Sono state fatte scelte progettazione per aumentare il livello di coesione, ogni classe raggruppa attributi e metodi strettamente correlati al proprio scopo. Le classi come Matricola viene estesa da più classi per evitare codice duplicato e permette una facile manutenibilità del codice e indipendeza con le classi di livello superiore (ossia che se modifico ste classi non ho problema con quelle sopra ma non so spiegarlo bene lol) 

Tutte le associazioni sono unidirezionali evitando dipendenza lunghe o circolati riducendo il livello di accopiamento tra le varie classi.

Gli attributi delle classi sono privati e accessibili tramite metodi, riducendo l’esposizione dei dati e migliorando l’affidabilità del sistema.

Libro ha una forte coesione essendo che implementa molte funzioni tutte collegate fra loro (?)  


\newpage
\section{Diagrammi di Sequenza}
\begin{itemize}
	\item Selezionare casi d'uso complessi
	\item Per ogni caso d'uso:
	\begin{itemize}
		\item Nome del caso d'uso
		\item Attori coinvolti
		\item Diagramma di sequenza (SVG):
		\begin{figure}[h!]
			\centering
			%\includesvg[width=0.8\textwidth]{diagrammi/sequenza_caso1.svg}
			\caption{Diagramma di sequenza per il caso d'uso XYZ}
		\end{figure}
		\item Descrizione testuale passo-passo
		\item Motivazioni progettuali
	\end{itemize}
\end{itemize}

\newpage
\subsection{Diagrammi di Sequenza}
\begin{itemize}
	\item Registrazione di un utente
	\item Per ogni caso d'uso:
	\begin{itemize}
		\item Registrazione di un utente UC-6
		\item Gestore 
		\item Diagramma di sequenza (SVG) bro meglip png si vede meglio :
		\begin{figure}[h!]
			\centering
			\includegraphics[width=0.8\textwidth]{../uml/DiagrammiSequenza/UMLinserisciUtente}
			\caption{Diagramma di sequenza per il caso d'uso per l'inserimento di un utente}
		\end{figure}
	    \item Prima della registrazione di un utente il Gestore deve visualizzare la lista dei utenti, per cui chiede all'interfaccia grafica (GUI) che quest'ultima poi accedendo alla classe Bibloteca ottiene la lista di tutti gli utenti. \\ Solo ora il gestore può inserire un nuovo utente inserendo tutti i relativi campi. Il sistema controlla (mediante l'accesso a diverse classi) se la sintassi della matricola e email è corretta prima di creare un utente e in caso contrario restituisce un errore annullando l'inserimento di ques'ultimo. \\ La matricola inoltre deve essere univoca quindi il sistema controllerà se quella inserita esiste già e darà un errore nel caso esista. solo se tutti questi casi vengono rispettati che la creazione andrà a buon fine. 
		\\
		\item Nei vari controlli si è scelto di non effettuare il controllo in un unica parte ma nelle rispettive classi dedicate. Questo è stato fatto per evitare ridondanze e aumentare coesioni . 
		Inoltre ogni componente svolge un compito ben definito permettendo una struttura modulare e indipendete (?).
		Tutti questi controlli vengono fatti per evitare inconsistenza nei dati una volta creato l'utente con la difficile modifica in sistema.
		
	\end{itemize}
\end{itemize}

\end{document}

%Modifiche: pachetto magari in package che suona meglio (?)
% Creare una classe che Bibloteca la estende per il le funzioni salva e carica?  
% per i grafici di sequenza usare i png